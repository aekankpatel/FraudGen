{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bhumiti\\\\Desktop\\\\BIA662\\\\Fraudgen\\\\fraudgen-client\\\\src\\\\components\\\\LocationMap.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LocationMap({\n  transactions\n}) {\n  _s();\n  const [mapLoaded, setMapLoaded] = useState(false);\n  const leafletMapRef = useRef(null);\n  const markersRef = useRef([]);\n  const mapContainerId = useRef(`map-${Math.random().toString(36).substr(2, 9)}`);\n  const scriptRef = useRef(null);\n  const styleRef = useRef(null);\n  const mapContainerStyles = {\n    height: '400px',\n    width: '100%',\n    borderRadius: '8px',\n    overflow: 'hidden'\n  };\n  const loadingStyles = {\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f9f9f9',\n    color: '#3498db',\n    fontSize: '16px'\n  };\n\n  // Clean up function\n  const cleanupLeaflet = () => {\n    if (leafletMapRef.current) {\n      leafletMapRef.current.remove();\n      leafletMapRef.current = null;\n    }\n    if (markersRef.current.length > 0) {\n      markersRef.current = [];\n    }\n    if (scriptRef.current && document.body.contains(scriptRef.current)) {\n      document.body.removeChild(scriptRef.current);\n      scriptRef.current = null;\n    }\n    if (styleRef.current && document.head.contains(styleRef.current)) {\n      document.head.removeChild(styleRef.current);\n      styleRef.current = null;\n    }\n    setMapLoaded(false);\n  };\n\n  // Load Leaflet resources\n  const loadLeafletResources = () => {\n    // Load CSS\n    const linkElement = document.createElement('link');\n    linkElement.rel = 'stylesheet';\n    linkElement.href = 'https://unpkg.com/leaflet@1.7.1/dist/leaflet.css';\n    document.head.appendChild(linkElement);\n    styleRef.current = linkElement;\n\n    // Load JS\n    const script = document.createElement('script');\n    script.src = 'https://unpkg.com/leaflet@1.7.1/dist/leaflet.js';\n    script.integrity = 'sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==';\n    script.crossOrigin = '';\n    script.onload = () => {\n      setTimeout(() => {\n        // Use setTimeout to ensure the DOM element is fully rendered\n        initializeMap();\n      }, 100);\n    };\n    document.body.appendChild(script);\n    scriptRef.current = script;\n  };\n\n  // Initialize the map\n  const initializeMap = () => {\n    try {\n      const mapElement = document.getElementById(mapContainerId.current);\n      if (!mapElement) {\n        console.error(\"Map container not found:\", mapContainerId.current);\n        return;\n      }\n      if (!window.L) {\n        console.error(\"Leaflet not loaded\");\n        return;\n      }\n\n      // Create map instance\n      const map = window.L.map(mapContainerId.current).setView([40.7282, -74.0776], 2);\n\n      // Add tile layer\n      window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Â© OpenStreetMap contributors'\n      }).addTo(map);\n      leafletMapRef.current = map;\n      setMapLoaded(true);\n    } catch (err) {\n      console.error(\"Error initializing map:\", err);\n    }\n  };\n\n  // Initialize the map only once\n  useEffect(() => {\n    // Only load Leaflet if not already loaded\n    if (!mapLoaded && !leafletMapRef.current) {\n      loadLeafletResources();\n    }\n\n    // Clean up on component unmount\n    return cleanupLeaflet;\n  }, []);\n\n  // Update markers when transactions change\n  useEffect(() => {\n    if (mapLoaded && leafletMapRef.current && transactions && window.L) {\n      // Remove existing markers\n      markersRef.current.forEach(marker => {\n        if (marker && marker.remove) {\n          marker.remove();\n        }\n      });\n      markersRef.current = [];\n\n      // Create new markers\n      const newMarkers = [];\n      const validLocations = [];\n      transactions.forEach(tx => {\n        if (tx.location_data && tx.location_data.latitude && tx.location_data.longitude) {\n          try {\n            var _tx$transaction_data;\n            // Convert latitude/longitude to numbers to avoid errors\n            const lat = parseFloat(tx.location_data.latitude);\n            const lng = parseFloat(tx.location_data.longitude);\n\n            // Skip if invalid coordinates\n            if (isNaN(lat) || isNaN(lng)) return;\n\n            // Skip if coordinates are out of range\n            if (lat < -90 || lat > 90 || lng < -180 || lng > 180) return;\n\n            // Add to valid locations for bounds\n            validLocations.push([lat, lng]);\n\n            // Determine marker color based on transaction risk\n            const markerColor = tx.prediction && tx.prediction.includes('FRAUD') ? 'red' : tx.prediction && tx.prediction.includes('HIGH_RISK') ? 'orange' : tx.prediction && tx.prediction.includes('NEEDS_REVIEW') ? 'yellow' : 'green';\n\n            // Create custom marker icon\n            const markerIcon = window.L.divIcon({\n              className: 'custom-marker',\n              html: `<div style=\"width: 16px; height: 16px; border-radius: 50%; background-color: ${markerColor}; border: 2px solid white;\"></div>`,\n              iconSize: [20, 20],\n              iconAnchor: [10, 10]\n            });\n\n            // Create marker\n            const marker = window.L.marker([lat, lng], {\n              icon: markerIcon\n            }).addTo(leafletMapRef.current);\n\n            // Format amount safely\n            const amount = tx.transaction_data && tx.transaction_data.amount && typeof tx.transaction_data.amount === 'number' ? tx.transaction_data.amount.toLocaleString() : '0';\n\n            // Add popup with transaction details\n            marker.bindPopup(`\n              <div style=\"min-width: 200px;\">\n                <h3 style=\"margin: 0 0 5px 0;\">${tx.prediction || 'Unknown'}</h3>\n                <p style=\"margin: 0 0 3px 0;\"><strong>Amount:</strong> $${amount}</p>\n                <p style=\"margin: 0 0 3px 0;\"><strong>Type:</strong> ${((_tx$transaction_data = tx.transaction_data) === null || _tx$transaction_data === void 0 ? void 0 : _tx$transaction_data.type) || 'Unknown'}</p>\n                <p style=\"margin: 0 0 3px 0;\"><strong>Location:</strong> ${tx.location_data.city || 'Unknown'}, ${tx.location_data.region || 'Unknown'}, ${tx.location_data.country || 'Unknown'}</p>\n                ${tx.location_data.is_vpn || tx.location_data.is_proxy ? '<p style=\"margin: 0; color: #e74c3c;\"><strong>VPN/Proxy detected</strong></p>' : ''}\n              </div>\n            `);\n            newMarkers.push(marker);\n          } catch (err) {\n            console.error(\"Error creating marker:\", err);\n          }\n        }\n      });\n      markersRef.current = newMarkers;\n\n      // Adjust map view to fit markers if there are any\n      if (validLocations.length > 0) {\n        try {\n          // Check if we have at least 2 distinct locations\n          const uniqueLocations = new Set(validLocations.map(loc => `${loc[0]},${loc[1]}`));\n          if (uniqueLocations.size >= 2) {\n            // Multiple distinct locations, create bounds\n            const bounds = window.L.latLngBounds(validLocations);\n            leafletMapRef.current.fitBounds(bounds, {\n              padding: [50, 50]\n            });\n          } else {\n            // Only one location, just center on it\n            const center = validLocations[0];\n            leafletMapRef.current.setView(center, 12);\n          }\n        } catch (err) {\n          console.error(\"Error adjusting map view:\", err);\n\n          // Fallback to default view if bounds fails\n          leafletMapRef.current.setView([40.7282, -74.0776], 2);\n        }\n      }\n    }\n  }, [mapLoaded, transactions]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: mapContainerId.current,\n    style: mapContainerStyles,\n    children: !mapLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: loadingStyles,\n      children: \"Loading map...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n}\n_s(LocationMap, \"Qj9swZpLeemxPjZMvtBG36P2Nmc=\");\n_c = LocationMap;\nexport default LocationMap;\nvar _c;\n$RefreshReg$(_c, \"LocationMap\");","map":{"version":3,"names":["React","useEffect","useState","useRef","jsxDEV","_jsxDEV","LocationMap","transactions","_s","mapLoaded","setMapLoaded","leafletMapRef","markersRef","mapContainerId","Math","random","toString","substr","scriptRef","styleRef","mapContainerStyles","height","width","borderRadius","overflow","loadingStyles","display","justifyContent","alignItems","backgroundColor","color","fontSize","cleanupLeaflet","current","remove","length","document","body","contains","removeChild","head","loadLeafletResources","linkElement","createElement","rel","href","appendChild","script","src","integrity","crossOrigin","onload","setTimeout","initializeMap","mapElement","getElementById","console","error","window","L","map","setView","tileLayer","attribution","addTo","err","forEach","marker","newMarkers","validLocations","tx","location_data","latitude","longitude","_tx$transaction_data","lat","parseFloat","lng","isNaN","push","markerColor","prediction","includes","markerIcon","divIcon","className","html","iconSize","iconAnchor","icon","amount","transaction_data","toLocaleString","bindPopup","type","city","region","country","is_vpn","is_proxy","uniqueLocations","Set","loc","size","bounds","latLngBounds","fitBounds","padding","center","id","style","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Bhumiti/Desktop/BIA662/Fraudgen/fraudgen-client/src/components/LocationMap.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\n\r\nfunction LocationMap({ transactions }) {\r\n  const [mapLoaded, setMapLoaded] = useState(false);\r\n  const leafletMapRef = useRef(null);\r\n  const markersRef = useRef([]);\r\n  const mapContainerId = useRef(`map-${Math.random().toString(36).substr(2, 9)}`);\r\n  const scriptRef = useRef(null);\r\n  const styleRef = useRef(null);\r\n\r\n  const mapContainerStyles = {\r\n    height: '400px',\r\n    width: '100%',\r\n    borderRadius: '8px',\r\n    overflow: 'hidden'\r\n  };\r\n\r\n  const loadingStyles = {\r\n    height: '100%',\r\n    display: 'flex', \r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f9f9f9',\r\n    color: '#3498db',\r\n    fontSize: '16px'\r\n  };\r\n\r\n  // Clean up function\r\n  const cleanupLeaflet = () => {\r\n    if (leafletMapRef.current) {\r\n      leafletMapRef.current.remove();\r\n      leafletMapRef.current = null;\r\n    }\r\n    \r\n    if (markersRef.current.length > 0) {\r\n      markersRef.current = [];\r\n    }\r\n    \r\n    if (scriptRef.current && document.body.contains(scriptRef.current)) {\r\n      document.body.removeChild(scriptRef.current);\r\n      scriptRef.current = null;\r\n    }\r\n    \r\n    if (styleRef.current && document.head.contains(styleRef.current)) {\r\n      document.head.removeChild(styleRef.current);\r\n      styleRef.current = null;\r\n    }\r\n    \r\n    setMapLoaded(false);\r\n  };\r\n\r\n  // Load Leaflet resources\r\n  const loadLeafletResources = () => {\r\n    // Load CSS\r\n    const linkElement = document.createElement('link');\r\n    linkElement.rel = 'stylesheet';\r\n    linkElement.href = 'https://unpkg.com/leaflet@1.7.1/dist/leaflet.css';\r\n    document.head.appendChild(linkElement);\r\n    styleRef.current = linkElement;\r\n\r\n    // Load JS\r\n    const script = document.createElement('script');\r\n    script.src = 'https://unpkg.com/leaflet@1.7.1/dist/leaflet.js';\r\n    script.integrity = 'sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==';\r\n    script.crossOrigin = '';\r\n    \r\n    script.onload = () => {\r\n      setTimeout(() => {\r\n        // Use setTimeout to ensure the DOM element is fully rendered\r\n        initializeMap();\r\n      }, 100);\r\n    };\r\n    \r\n    document.body.appendChild(script);\r\n    scriptRef.current = script;\r\n  };\r\n\r\n  // Initialize the map\r\n  const initializeMap = () => {\r\n    try {\r\n      const mapElement = document.getElementById(mapContainerId.current);\r\n      \r\n      if (!mapElement) {\r\n        console.error(\"Map container not found:\", mapContainerId.current);\r\n        return;\r\n      }\r\n      \r\n      if (!window.L) {\r\n        console.error(\"Leaflet not loaded\");\r\n        return;\r\n      }\r\n      \r\n      // Create map instance\r\n      const map = window.L.map(mapContainerId.current).setView([40.7282, -74.0776], 2);\r\n      \r\n      // Add tile layer\r\n      window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: 'Â© OpenStreetMap contributors'\r\n      }).addTo(map);\r\n      \r\n      leafletMapRef.current = map;\r\n      setMapLoaded(true);\r\n    } catch (err) {\r\n      console.error(\"Error initializing map:\", err);\r\n    }\r\n  };\r\n\r\n  // Initialize the map only once\r\n  useEffect(() => {\r\n    // Only load Leaflet if not already loaded\r\n    if (!mapLoaded && !leafletMapRef.current) {\r\n      loadLeafletResources();\r\n    }\r\n\r\n    // Clean up on component unmount\r\n    return cleanupLeaflet;\r\n  }, []);\r\n  \r\n  // Update markers when transactions change\r\n  useEffect(() => {\r\n    if (mapLoaded && leafletMapRef.current && transactions && window.L) {\r\n      // Remove existing markers\r\n      markersRef.current.forEach(marker => {\r\n        if (marker && marker.remove) {\r\n          marker.remove();\r\n        }\r\n      });\r\n      markersRef.current = [];\r\n      \r\n      // Create new markers\r\n      const newMarkers = [];\r\n      const validLocations = [];\r\n      \r\n      transactions.forEach(tx => {\r\n        if (tx.location_data && tx.location_data.latitude && tx.location_data.longitude) {\r\n          try {\r\n            // Convert latitude/longitude to numbers to avoid errors\r\n            const lat = parseFloat(tx.location_data.latitude);\r\n            const lng = parseFloat(tx.location_data.longitude);\r\n            \r\n            // Skip if invalid coordinates\r\n            if (isNaN(lat) || isNaN(lng)) return;\r\n            \r\n            // Skip if coordinates are out of range\r\n            if (lat < -90 || lat > 90 || lng < -180 || lng > 180) return;\r\n            \r\n            // Add to valid locations for bounds\r\n            validLocations.push([lat, lng]);\r\n            \r\n            // Determine marker color based on transaction risk\r\n            const markerColor = tx.prediction && tx.prediction.includes('FRAUD') ? 'red' : \r\n                              tx.prediction && tx.prediction.includes('HIGH_RISK') ? 'orange' : \r\n                              tx.prediction && tx.prediction.includes('NEEDS_REVIEW') ? 'yellow' : \r\n                              'green';\r\n            \r\n            // Create custom marker icon\r\n            const markerIcon = window.L.divIcon({\r\n              className: 'custom-marker',\r\n              html: `<div style=\"width: 16px; height: 16px; border-radius: 50%; background-color: ${markerColor}; border: 2px solid white;\"></div>`,\r\n              iconSize: [20, 20],\r\n              iconAnchor: [10, 10]\r\n            });\r\n            \r\n            // Create marker\r\n            const marker = window.L.marker(\r\n              [lat, lng], \r\n              { icon: markerIcon }\r\n            ).addTo(leafletMapRef.current);\r\n            \r\n            // Format amount safely\r\n            const amount = tx.transaction_data && tx.transaction_data.amount && \r\n                          typeof tx.transaction_data.amount === 'number' ? \r\n                          tx.transaction_data.amount.toLocaleString() : '0';\r\n            \r\n            // Add popup with transaction details\r\n            marker.bindPopup(`\r\n              <div style=\"min-width: 200px;\">\r\n                <h3 style=\"margin: 0 0 5px 0;\">${tx.prediction || 'Unknown'}</h3>\r\n                <p style=\"margin: 0 0 3px 0;\"><strong>Amount:</strong> $${amount}</p>\r\n                <p style=\"margin: 0 0 3px 0;\"><strong>Type:</strong> ${tx.transaction_data?.type || 'Unknown'}</p>\r\n                <p style=\"margin: 0 0 3px 0;\"><strong>Location:</strong> ${tx.location_data.city || 'Unknown'}, ${tx.location_data.region || 'Unknown'}, ${tx.location_data.country || 'Unknown'}</p>\r\n                ${tx.location_data.is_vpn || tx.location_data.is_proxy ? \r\n                  '<p style=\"margin: 0; color: #e74c3c;\"><strong>VPN/Proxy detected</strong></p>' : ''}\r\n              </div>\r\n            `);\r\n            \r\n            newMarkers.push(marker);\r\n          } catch (err) {\r\n            console.error(\"Error creating marker:\", err);\r\n          }\r\n        }\r\n      });\r\n      \r\n      markersRef.current = newMarkers;\r\n      \r\n      // Adjust map view to fit markers if there are any\r\n      if (validLocations.length > 0) {\r\n        try {\r\n          // Check if we have at least 2 distinct locations\r\n          const uniqueLocations = new Set(validLocations.map(loc => `${loc[0]},${loc[1]}`));\r\n          \r\n          if (uniqueLocations.size >= 2) {\r\n            // Multiple distinct locations, create bounds\r\n            const bounds = window.L.latLngBounds(validLocations);\r\n            leafletMapRef.current.fitBounds(bounds, { padding: [50, 50] });\r\n          } else {\r\n            // Only one location, just center on it\r\n            const center = validLocations[0];\r\n            leafletMapRef.current.setView(center, 12);\r\n          }\r\n        } catch (err) {\r\n          console.error(\"Error adjusting map view:\", err);\r\n          \r\n          // Fallback to default view if bounds fails\r\n          leafletMapRef.current.setView([40.7282, -74.0776], 2);\r\n        }\r\n      }\r\n    }\r\n  }, [mapLoaded, transactions]);\r\n\r\n  return (\r\n    <div id={mapContainerId.current} style={mapContainerStyles}>\r\n      {!mapLoaded && (\r\n        <div style={loadingStyles}>\r\n          Loading map...\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LocationMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}